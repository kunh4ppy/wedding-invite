<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Thi·ªáp c∆∞·ªõi Quang Trung & Ph∆∞∆°ng Th·∫£o</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
<style>
  body, html {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: #fde8f0;
    font-family: 'Great Vibes', cursive;
  }

  /* Phong th∆∞ */
  .envelope-container {
    position: fixed;
    inset: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #fce4ec;
    z-index: 10;
  }

  .envelope {
    position: relative;
    width: 300px;
    height: 200px;
    background: #fff;
    box-shadow: 0 8px 15px rgba(0,0,0,0.2);
    border-radius: 8px;
    overflow: hidden;
    transform-style: preserve-3d;
    perspective: 1000px;
  }

  .flap {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 50%;
    background: #f8bbd0;
    transform-origin: top;
    transition: transform 1s ease;
  }

  .envelope.open .flap {
    transform: rotateX(-180deg);
  }

  .open-btn {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    padding: 8px 16px;
    background: #ec407a;
    color: white;
    border: none;
    border-radius: 20px;
    cursor: pointer;
    font-size: 18px;
  }

  /* N·ªôi dung thi·ªáp */
  .invitation {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: opacity 2s ease;
    background: linear-gradient(to bottom right, #f8bbd0, #fff0f5);
    overflow-y: auto;
  }

  .invitation.show {
    opacity: 1;
  }

  .content {
    text-align: center;
    padding: 40px 10px;
    color: #b0003a;
  }

  h1 {
    font-size: 48px;
    margin-bottom: 10px;
  }

  h2 {
    font-size: 32px;
    margin-bottom: 20px;
  }

  p {
    font-size: 24px;
  }

  .countdown {
    font-size: 26px;
    margin-top: 10px;
  }

  .gallery {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 400px;
    overflow: hidden;
    position: relative;
    border-radius: 20px;
    margin-top: 20px;
  }

  .gallery img {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 20px;
    opacity: 0;
    transition: opacity 1.5s ease;
  }

  .gallery img.active {
    opacity: 1;
  }

  /* Google map */
  .map-container {
    margin-top: 30px;
    display: flex;
    justify-content: center;
  }

  .map-container iframe {
    border: 0;
    border-radius: 20px;
    width: 90%;
    height: 350px;
    box-shadow: 0 0 10px rgba(0,0,0,0.2);
  }

  canvas {
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none;
  }
</style>
</head>
<body>

<!-- Phong th∆∞ m·ªü ƒë·∫ßu -->
<div class="envelope-container">
  <div class="envelope" id="envelope">
    <div class="flap"></div>
    <button class="open-btn" id="openBtn">üíñ M·ªü thi·ªáp</button>
  </div>
</div>

<!-- N·ªôi dung thi·ªáp -->
<div class="invitation" id="invitation">
  <canvas id="canvas"></canvas>
  <div class="content">
    <h1>Quang Trung & Ph∆∞∆°ng Th·∫£o</h1>
    <h2>Tr√¢n tr·ªçng k√≠nh m·ªùi b·∫°n ƒë·∫øn d·ª± l·ªÖ th√†nh h√¥n</h2>
    <p>üìÖ Ng√†y 13/12/2025 - 18:00</p>
    <p>üèõÔ∏è Nh√† h√†ng Nguy√™n ƒê√¨nh Long Bi√™n</p>
    <div class="countdown" id="countdown"></div>

    <div class="gallery">
      <img src="assets/02.10 THAÃâO TRUNG58271.jpg" class="active" alt="">
      <img src="assets/02.10 THAÃâO TRUNG58363.jpg" alt="">
      <img src="assets/02.10 THAÃâO TRUNG58486.jpg" alt="">
      <img src="assets/02.10 THAÃâO TRUNG58645.jpg" alt="">
    </div>

    <!-- Google Map -->
    <div class="map-container">
      <iframe 
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d119177.62236340714!2d105.75602978986407!3d21.02065100788642!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3135a9acc56038bf%3A0xfe2bcf18b37652b4!2zTmd1ecOqbiDEkMOsbmggTG9uZyBCacOqbg!5e0!3m2!1svi!2s!4v1762331616767!5m2!1svi!2s" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"
        allowfullscreen=""
        loading="lazy">
      </iframe>
    </div>
  </div>
</div>

<audio id="bgMusic" src="assets/L√¢u ƒê√†i T√¨nh √Åi.mp3"></audio>

<script>
  const openBtn = document.getElementById('openBtn');
  const envelope = document.getElementById('envelope');
  const invitation = document.getElementById('invitation');
  const music = document.getElementById('bgMusic');

  openBtn.addEventListener('click', () => {
    envelope.classList.add('open');
    setTimeout(() => {
      document.querySelector('.envelope-container').style.display = 'none';
      invitation.classList.add('show');
      music.play();
      startParticles();
    }, 1200);
  });

  // ·∫¢nh slider
  const imgs = document.querySelectorAll('.gallery img');
  let idx = 0;
  setInterval(() => {
    imgs[idx].classList.remove('active');
    idx = (idx + 1) % imgs.length;
    imgs[idx].classList.add('active');
  }, 4000);

  // Countdown
  const countdown = document.getElementById('countdown');
  const targetDate = new Date("Dec 13, 2025 18:00:00").getTime();
  setInterval(() => {
    const now = new Date().getTime();
    const dist = targetDate - now;
    const d = Math.floor(dist / (1000 * 60 * 60 * 24));
    const h = Math.floor((dist % (1000 * 60 * 60 * 24)) / (1000*60*60));
    const m = Math.floor((dist % (1000*60*60)) / (1000*60));
    const s = Math.floor((dist % (1000*60)) / 1000);
    countdown.innerHTML = `C√≤n ${d} ng√†y ${h} gi·ªù ${m} ph√∫t ${s} gi√¢y n·ªØa üíï`;
  }, 1000);

  // Hi·ªáu ·ª©ng tim & ph√°o s√°ng
  function startParticles() {
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    let particles = [];

    function createParticle() {
      const x = Math.random() * canvas.width;
      const y = 0;
      const size = Math.random() * 3 + 1;
      const speed = Math.random() * 2 + 1;
      const type = Math.random() > 0.5 ? 'heart' : 'spark';
      particles.push({ x, y, size, speed, type });
    }

    function drawParticle(p) {
      ctx.beginPath();
      if (p.type === 'heart') {
        ctx.fillStyle = `rgba(255,105,180,0.7)`;
        ctx.moveTo(p.x, p.y);
        ctx.bezierCurveTo(p.x - 3, p.y - 3, p.x - 6, p.y + 2, p.x, p.y + 6);
        ctx.bezierCurveTo(p.x + 6, p.y + 2, p.x + 3, p.y -3, p.x, p.y);
      } else {
        ctx.fillStyle = `rgba(255,255,255,0.8)`;
        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
      }
      ctx.fill();
    }

    function animate() {
      ctx.clearRect(0,0,canvas.width,canvas.height);
      if (Math.random() < 0.3) createParticle();
      particles.forEach(p => {
        p.y += p.speed;
        drawParticle(p);
      });
      particles = particles.filter(p => p.y < canvas.height);
      requestAnimationFrame(animate);
    }
    animate();
  }
</script>

</body>
</html>
